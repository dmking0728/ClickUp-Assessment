(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.blocks,a=window.wp.blockEditor,r=window.wp.components,i=window.wp.i18n,l=window.wp.element,c=window.wp.serverSideRender;var o=e.n(c);(0,n.registerBlockType)("clickup/pricing-table",{title:(0,i.__)("ClickUp Pricing Table","cu-pricing-table"),description:(0,i.__)("Display ClickUp pricing plans with live data","cu-pricing-table"),category:"widgets",icon:"money-alt",keywords:[(0,i.__)("pricing","cu-pricing-table"),(0,i.__)("clickup","cu-pricing-table"),(0,i.__)("table","cu-pricing-table")],attributes:{showBanner:{type:"boolean",default:!1},bannerText:{type:"string",default:"The world's most complete work AI, starting at $9 per month"},bannerSubtext:{type:"string",default:"ClickUp Brain is a no Brainer. One AI to manage your work, at a fraction of the cost."},bannerCtaText:{type:"string",default:"Try for free"},enterpriseDescription:{type:"string",default:"Get a custom demo and see how ClickUp aligns with your goals."},ctaText:{type:"string",default:"Get started"}},edit:function({attributes:e,setAttributes:n}){const{showBanner:c,bannerText:s,bannerSubtext:p,bannerCtaText:u,enterpriseDescription:g,ctaText:b}=e,[d,m]=(0,l.useState)(null),[w,_]=(0,l.useState)(!0),[h,E]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{const e=await fetch(clickupPricing.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"clickup_get_pricing",nonce:clickupPricing.nonce})}),t=await e.json();t.success?(m(t.data),E(null)):E(t.data||"Failed to fetch pricing data")}catch(e){E("Network error: "+e.message)}finally{_(!1)}})()},[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:(0,i.__)("Banner Settings","cu-pricing-table")},(0,t.createElement)(r.ToggleControl,{label:(0,i.__)("Show AI Banner","cu-pricing-table"),checked:c,onChange:e=>n({showBanner:e})}),c&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.TextControl,{label:(0,i.__)("Banner Text","cu-pricing-table"),value:s,onChange:e=>n({bannerText:e})}),(0,t.createElement)(r.TextControl,{label:(0,i.__)("Banner Subtext","cu-pricing-table"),value:p,onChange:e=>n({bannerSubtext:e})}),(0,t.createElement)(r.TextControl,{label:(0,i.__)("Banner CTA Button Text","cu-pricing-table"),value:u,onChange:e=>n({bannerCtaText:e})}))),(0,t.createElement)(r.PanelBody,{title:(0,i.__)("Pricing Plans Settings","cu-pricing-table")},(0,t.createElement)(r.TextControl,{label:(0,i.__)("Enterprise Plan Description","cu-pricing-table"),value:g,onChange:e=>n({enterpriseDescription:e}),help:(0,i.__)("Custom description text for the Enterprise plan pricing area","cu-pricing-table")})),(0,t.createElement)(r.PanelBody,{title:(0,i.__)("CTA Settings","cu-pricing-table")},(0,t.createElement)(r.TextControl,{label:(0,i.__)("CTA Button Text","cu-pricing-table"),value:b,onChange:e=>n({ctaText:e})}))),(0,t.createElement)("div",{className:"cu-pricing-table-editor"},w&&(0,t.createElement)("div",{className:"cu-pricing-loading"},(0,t.createElement)(r.Spinner,null),(0,t.createElement)("p",null,(0,i.__)("Loading pricing data...","cu-pricing-table"))),h&&(0,t.createElement)(r.Notice,{status:"error",isDismissible:!1},h),!w&&!h&&(0,t.createElement)("div",{className:"cu-pricing-preview"},(0,t.createElement)("h3",null,(0,i.__)("ClickUp Pricing Table Preview","cu-pricing-table")),c&&(0,t.createElement)("div",{className:"cu-banner-preview"},(0,t.createElement)("strong",null,(0,i.__)("Banner:","cu-pricing-table"))," ",s||"The world's most complete work AI, starting at $9 per month",(0,t.createElement)("br",null),(0,t.createElement)("strong",null,(0,i.__)("Subtext:","cu-pricing-table"))," ",p||"ClickUp Brain is a no Brainer. One AI to manage your work, at a fraction of the cost.",(0,t.createElement)("br",null),(0,t.createElement)("strong",null,(0,i.__)("CTA Button:","cu-pricing-table"))," ",u||"Try for free"),(0,t.createElement)("p",null,(0,i.__)("Displaying all ClickUp pricing plans","cu-pricing-table")),(0,t.createElement)(o(),{block:"clickup/pricing-table",attributes:{...e,showBanner:!1}}))))},save:function(){return null}})})();